{% extends "layout.html" %}
{% block content %}
{% if not session.user_id %}
<div>
    <p class="notice">Please log in to view your profile.</p>
    <button class="button" onclick="location.href='/login'">Log in</button>
</div>
{% elif session.user_id != user_id %}
<p class="notice">You do not have permission to view this page.</p>
{% else %}
<p class="notice">Statistics</p>
<p>Posts created: {{ posts_count }}</p>
<p>Comments written: {{ comments_count }}</p>
<div class="list">
    <ul>
        <li class="list-header">
            <h1>Message history</h1>
        </li>
        {% for comment in user_comments %}
        <a href="/post/{{ comment.post_id }}">
            <li><b>{{ comment.title }} > </b>{{ comment.content }}</li>
        </a>
        {% endfor %}
    </ul>
</div>
{% endif %}
<button class="button" onclick="location.href='/'" style="margin-top: 35px">Back to front page</button>
{% endblock %}